<!--@layout(/layout/basic/popup.html)-->
<div id="option-layer" module="Product_OptionSelectLayer" class="ec-base-layer typeSide">
    <!--@css(/css/module/product/optionSelectLayer.css)-->
    <div class="header">
        <h1>Select Option</h1>
    </div>
    <div class="content">
        <div class="inner" module="product_detail">
            <div class="information productNormal {$normal_product_display|display}">
                <div class="thumbnail">
                    <img src="{$tiny_img}" alt="{$seo_alt_tag}"
                        onerror="this.src='//img.echosting.cafe24.com/thumb/img_product_small.gif';" id="{$image_id}"
                        class="{$display_single_product|display}" />
                </div>
                <p class="name seperate" title="상품명">
                    <strong>{$name}</strong>
                    <span class="info {$set_quantity_display|display}">(Sold in sets of {$set_quantity})</span>
                </p>
            </div>
            <table border="1" module="product_option">
                <!--
					$use_per_add_option = yes
                -->
                <caption>Option Information</caption>
                <colgroup>
                    <col style="width:86px;" />
                    <col style="width:auto;" />
                </colgroup>
                <tbody module="product_option">
                    <tr>
                        <th scope="row">{$option_name}</th>
                        <td>{$form.option}<p class="value">{$option_desc}</p>
                        </td>
                    </tr>
                    <tr module="product_quantity">
                        <th scope="row">Quantity</th>
                        <td>
                            <div class="ec-base-qty">
                                {$form.quantity}
                                <a href="javascript:;" class="up eClearUp"><img
                                        src="//img.echosting.cafe24.com/skin/base/common/btn_quantity_up.gif"
                                        id="{$quantity_up_id}" alt="증가" class="{$quantity_up_class}"></a>
                                <a href="javascript:;" class="down eClearDown"><img
                                        src="//img.echosting.cafe24.com/skin/base/common/btn_quantity_down.gif"
                                        id="{$quantity_down_id}" alt="감소" class="{$quantity_down_class}"></a>
                            </div>
                        </td>
                    </tr>
                </tbody>
                <tbody>
                    <tr module="product_addoption">
                        <th scope="row">{$add_option_name}</th>
                        <td>
                            {$form.add_option}
                            <span class="txtByte" title="현재글자수/최대글자수">(<strong
                                    class="length">0</strong>/{$option_maxlength})</span>
                        </td>
                    </tr>
                </tbody>
                <tbody>
                    <tr module="product_fileoption">
                        <th scope="row">{$file_option_name}</th>
                        <td class="fileInfo">
                            {$form.file_option}
                            <ul class="infoDesc">
                                <li>- You can upload up to 5 separates files totaling less than {$file_option_limit}M.</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="productSet normal" module="product_setproduct">
                <!--
                    $use_per_add_option = yes
                -->
                <div class="title">
                    <h3>세트상품</h3>
                </div>
                <ul class="product">
                    <li>
                        <div class="information">
                            <div class="thumbnail">
                                <img src="{$product_image}" alt="{$seo_alt_tag}"
                                    onerror="this.src='//img.echosting.cafe24.com/thumb/img_product_small.gif';"
                                    id="{$image_id}" />
                            </div>
                            <p class="name seperate" title="상품명">
                                <strong>{$product_name}</strong>
                                <span class="info {$set_quantity_display|display}">(Sold in sets of {$set_quantity})</span>
                            </p>
                        </div>
                        <ul class="option">
                            <li module="product_option">
                                <ul>
                                    <li>
                                        <strong class="name">{$option_name}</strong>
                                        {$form.option}<p class="value">{$option_desc}</p>
                                    </li>
                                    <li module="product_quantity">
                                        <div class="ec-base-qty">
                                            {$form.quantity}
                                            <a href="javascript:;" class="up eClearUp"><img
                                                    src="//img.echosting.cafe24.com/skin/base/common/btn_quantity_up.gif"
                                                    id="{$quantity_up_id}" alt="증가" class="{$quantity_up_class}"></a>
                                            <a href="javascript:;" class="down eClearDown"><img
                                                    src="//img.echosting.cafe24.com/skin/base/common/btn_quantity_down.gif"
                                                    id="{$quantity_down_id}" alt="감소"
                                                    class="{$quantity_down_class}"></a>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li module="product_noneoption">
                                <ul>
                                    <li>
                                        <strong class="name">Product Select</strong>
                                        {$form.noneoption}
                                    </li>
                                    <li module="product_quantity">
                                        <div class="ec-base-qty">
                                            {$form.quantity}
                                            <a href="javascript:;" class="up eClearUp"><img
                                                    src="//img.echosting.cafe24.com/skin/base/common/btn_quantity_up.gif"
                                                    id="{$quantity_up_id}" alt="증가" class="{$quantity_up_class}"></a>
                                            <a href="javascript:;" class="down eClearDown"><img
                                                    src="//img.echosting.cafe24.com/skin/base/common/btn_quantity_down.gif"
                                                    id="{$quantity_down_id}" alt="감소"
                                                    class="{$quantity_down_class}"></a>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li module="product_addoption">
                                <strong class="name">{$add_option_name}</strong>
                                {$form.add_option}
                                <span class="txtByte" title="현재글자수/최대글자수">(<strong
                                        class="length">0</strong>/{$option_maxlength})</span>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <div class="information">
                            <div class="thumbnail">
                                <img src="{$product_image}" alt="{$seo_alt_tag}"
                                    onerror="this.src='//img.echosting.cafe24.com/thumb/img_product_small.gif';"
                                    id="{$image_id}" />
                            </div>
                            <p class="name seperate" title="상품명">
                                <strong>{$product_name}</strong>
                                <span class="info {$set_quantity_display|display}">(Sold in sets of {$set_quantity})</span>
                            </p>
                        </div>
                        <ul class="option">
                            <li module="product_option">
                                <ul>
                                    <li>
                                        <strong class="name">{$option_name}</strong>
                                        {$form.option}<p class="value">{$option_desc}</p>
                                    </li>
                                    <li module="product_quantity">
                                        <div class="ec-base-qty">
                                            {$form.quantity}
                                            <a href="javascript:;" class="up eClearUp"><img
                                                    src="//img.echosting.cafe24.com/skin/base/common/btn_quantity_up.gif"
                                                    id="{$quantity_up_id}" alt="증가" class="{$quantity_up_class}"></a>
                                            <a href="javascript:;" class="down eClearDown"><img
                                                    src="//img.echosting.cafe24.com/skin/base/common/btn_quantity_down.gif"
                                                    id="{$quantity_down_id}" alt="감소"
                                                    class="{$quantity_down_class}"></a>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li module="product_noneoption">
                                <ul>
                                    <li>
                                        <strong class="name">Product Select</strong>
                                        {$form.noneoption}
                                    </li>
                                    <li module="product_quantity">
                                        <div class="ec-base-qty">
                                            {$form.quantity}
                                            <a href="javascript:;" class="up eClearUp"><img
                                                    src="//img.echosting.cafe24.com/skin/base/common/btn_quantity_up.gif"
                                                    id="{$quantity_up_id}" alt="증가" class="{$quantity_up_class}"></a>
                                            <a href="javascript:;" class="down eClearDown"><img
                                                    src="//img.echosting.cafe24.com/skin/base/common/btn_quantity_down.gif"
                                                    id="{$quantity_down_id}" alt="감소"
                                                    class="{$quantity_down_class}"></a>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li module="product_addoption">
                                <strong class="name">{$add_option_name}</strong>
                                {$form.add_option}
                                <span class="txtByte" title="현재글자수/최대글자수">(<strong
                                        class="length">0</strong>/{$option_maxlength})</span>
                            </li>
                        </ul>
                    </li>
                </ul>
                <dl module="product_quantity" class="ec-base-desc quantity">
                    <dt>Quantity</dt>
                    <dd>
                        <div class="ec-base-qty">
                            {$form.quantity}
                            <a href="javascript:;" class="up eClearUp"><img
                                    src="//img.echosting.cafe24.com/skin/base/common/btn_quantity_up.gif"
                                    id="{$quantity_up_id}" alt="증가" class="{$quantity_up_class}"></a>
                            <a href="javascript:;" class="down eClearDown"><img
                                    src="//img.echosting.cafe24.com/skin/base/common/btn_quantity_down.gif"
                                    id="{$quantity_down_id}" alt="감소" class="{$quantity_down_class}"></a>
                        </div>
                    </dd>
                </dl>
            </div>

            <div id="{$total.total_id}" class="{$total.total_display|display}">
                <p class="ec-base-help txtWarn txt11 {$single_item_display|display}"> Select quantity.</p>
                <p class="ec-base-help txtWarn txt11 {$several_item_display|display}"> To add product, select an option in the above option box.</p>
                <table border="0">
                    <caption>Product List</caption>
                    <colgroup>
                        <col style="width:auto;" />
                        <col style="width:130px;" />
                        <col style="width:85px;" />
                    </colgroup>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Quantity</th>
                            <th scope="col">Price</th>
                        </tr>
                    </thead>
                    <tbody class="{$quantity_display|display}">
                        <tr>
                            <td>{$name}</td>
                            <td>
                                <span class="quantity">
                                    {$quantity}
                                    <a href="javascript:;" class="up {$quantity_up_class}"><img
                                            src="//img.echosting.cafe24.com/skin/base_en_US/product/btn_count_up.gif"
                                            alt="수량증가" /></a>
                                    <a href="javascript:;" class="down {$quantity_down_class}"><img
                                            src="//img.echosting.cafe24.com/skin/base_en_US/product/btn_count_down.gif"
                                            alt="수량감소" /></a>
                                </span>
                            </td>
                            <td class="right"><span class="{$total.quantity_price}">{$product_price}</span>
                                <span class="mileage {$mileage_display|display}">(<img src="{$mileage_mileage_icon}"
                                        alt="" /> <span class="{$total.mileage_price}">{$mileage_value}</span>)</span>
                            </td>
                        </tr>
                        <tr id="{$total.option_id}" class="option" module="product_option">
                            <!--
                                $use_per_add_option = yes
                                $default_option = yes
                            -->
                            <td class="middle" colspan="3">
                                <table border="1">
                                    <caption>Option Information</caption>
                                    <colgroup>
                                        <col style="width:105px;">
                                        <col style="width:auto;">
                                    </colgroup>
                                    <tbody>

                                        <tr module="product_addoption">
                                            <th scope="row">{$add_option_name}</th>
                                            <td>
                                                {$form.add_option}
                                                <span class="txtByte" title="현재글자수/최대글자수">(<strong
                                                        class="length">0</strong>/{$option_maxlength})</span>
                                            </td>
                                        </tr>
                                        <tr module="product_fileoption">
                                            <th scope="row">{$file_option_name}</th>
                                            <td class="fileInfo">
                                                {$form.file_option}
                                                <ul class="infoDesc">
                                                    <li>- You can upload up to 5 separates files totaling less than {$file_option_limit}M.</li>
                                                </ul>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    </tbody>
                    <!-- 옵션선택 또는 세트상품 선택시 상품이 추가되는 영역입니다. 쇼핑몰 화면에는 아래와 같은 마크업구조로 표시됩니다. 삭제시 기능이 정상동작 하지 않습니다. -->
                    <tbody>
                        <!-- tr>
                            <td>
                                <p class="product">
                                    $상품명<br />
                                    <span>$옵션</span>
                                </p>
                            </td>
                            <td>
                                <span class="quantity">
                                    <input type="text" class="quantity_opt" />
                                    <a href="javascript:;" class="up eProductQuantityUpClass"><img src="//img.echosting.cafe24.com/skin/base_ko_KR/product/btn_count_up.gif" alt="수량증가" /></a>
                                    <a href="javascript:;" class="down eProductQuantityDownClass"><img src="//img.echosting.cafe24.com/skin/base_ko_KR/product/btn_count_down.gif" alt="수량감소" /></a>
                                </span>
                                <a href="#none"><img src="//img.echosting.cafe24.com/design/skin/default/product/btn_price_delete.gif" alt="삭제" class="option_box_del" /></a>
                            </td>
                            <td class="right">
                                <span>$가격</span>
                                <span class="mileage">(<img src="//img.echosting.cafe24.com/design/skin/admin/ko_KR/product/ico_pay_point.gif" /> <span class="mileage_price">$적립금</span>)</span>
                            </td>
                        </tr -->
                    </tbody>
                    <!-- // 옵션선택 또는 세트상품 선택시 상품이 추가되는 영역입니다. 쇼핑몰 화면에는 아래와 같은 마크업구조로 표시됩니다. 삭제시 기능이 정상동작 하지 않습니다. -->

                </table>
            </div>
            <div id="{$total.total_price_id}" class="totalPrice">
                <strong class="title">Total <span class="qty">(QUANTITY)</span></strong><span
                    class="{$total.total_cnt}"><strong><em>0</em></strong> (0 item)</span>
            </div>
            <p class="ec-base-help txt11 {$price_warning_class}">Discounted amount of your subtotal will appear when you place your orders.</p>

        </div>
    </div>
    <div class="ec-base-button gColumn" module="product_action">
        <a href="#none" class="btnSubmit sizeM {$buy_display|display}" onclick="{$action_buy}">
            <span id="{$btn_buy_id}">Buy Now</span>
            <span id="{$btn_reserve_id}" class="{$btn_reserve_class|display}">Pre-Order</span>
        </a>
        <a href="#none" class="btnNormal sizeM {$basket_display|display}" onclick="{$action_basket}">Add to Cart</a>
        <!-- 상품상세페이지에 추가되는 앱 관련 결제버튼's div -->
        <div id="{$app_payment_button_box_id}"></div>
    </div>
    <!--    <a class="btnClose">닫기</a>-->
    <!--    <a class="btnClose close" onclick='#'>닫기</a>-->
    <a class="btnClose"><!--@import(/moa/icon/icon_x.html)--></a>
</div>
<div class="option-layer-bg close"></div>


<script>

    window.onload = function () {

        if (window.jQuery) {

            var optionLayer = document.getElementById('option-layer');

            setTimeout(function () {
                optionLayer.classList.add('on');
            }, 200);

            $('.option-layer-bg, .btnClose').on('click', function () {
                optionLayer.classList.remove('on');
                $('#capp-shop-new-product-optionselect-iframe', parent.document).closest('#capp-shop-new-product-optionselect-layer').remove();
            });

        }

    }
</script>